#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cdk = require("aws-cdk-lib");
const bedrock_agent_stack_1 = require("../lib/bedrock-agent-stack");
const environments_1 = require("../environments");
const app = new cdk.App();
// Get environment from context or environment variable
const environment = app.node.tryGetContext('environment') || process.env.CDK_ENVIRONMENT || 'dev';
const config = (0, environments_1.getEnvironmentConfig)(environment);
new bedrock_agent_stack_1.BedrockAgentStack(app, config.stackName, {
    env: {
        account: config.accountId || process.env.CDK_DEFAULT_ACCOUNT,
        region: config.region,
    },
    description: `Stack for Bedrock Agent with Nova Pro model - ${config.tags.Environment}`,
    tags: config.tags,
    environmentConfig: config,
});
app.synth();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmVkcm9jay1hZ2VudC1hcHAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9iaW4vYmVkcm9jay1hZ2VudC1hcHAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQ0EsbUNBQW1DO0FBQ25DLG9FQUErRDtBQUMvRCxrREFBdUQ7QUFFdkQsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFMUIsdURBQXVEO0FBQ3ZELE1BQU0sV0FBVyxHQUFHLEdBQUcsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLGFBQWEsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsZUFBZSxJQUFJLEtBQUssQ0FBQztBQUNsRyxNQUFNLE1BQU0sR0FBRyxJQUFBLG1DQUFvQixFQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRWpELElBQUksdUNBQWlCLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxTQUFTLEVBQUU7SUFDM0MsR0FBRyxFQUFFO1FBQ0gsT0FBTyxFQUFFLE1BQU0sQ0FBQyxTQUFTLElBQUksT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUI7UUFDNUQsTUFBTSxFQUFFLE1BQU0sQ0FBQyxNQUFNO0tBQ3RCO0lBQ0QsV0FBVyxFQUFFLGlEQUFpRCxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRTtJQUN2RixJQUFJLEVBQUUsTUFBTSxDQUFDLElBQUk7SUFDakIsaUJBQWlCLEVBQUUsTUFBTTtDQUMxQixDQUFDLENBQUM7QUFFSCxHQUFHLENBQUMsS0FBSyxFQUFFLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgQmVkcm9ja0FnZW50U3RhY2sgfSBmcm9tICcuLi9saWIvYmVkcm9jay1hZ2VudC1zdGFjayc7XG5pbXBvcnQgeyBnZXRFbnZpcm9ubWVudENvbmZpZyB9IGZyb20gJy4uL2Vudmlyb25tZW50cyc7XG5cbmNvbnN0IGFwcCA9IG5ldyBjZGsuQXBwKCk7XG5cbi8vIEdldCBlbnZpcm9ubWVudCBmcm9tIGNvbnRleHQgb3IgZW52aXJvbm1lbnQgdmFyaWFibGVcbmNvbnN0IGVudmlyb25tZW50ID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnZW52aXJvbm1lbnQnKSB8fCBwcm9jZXNzLmVudi5DREtfRU5WSVJPTk1FTlQgfHwgJ2Rldic7XG5jb25zdCBjb25maWcgPSBnZXRFbnZpcm9ubWVudENvbmZpZyhlbnZpcm9ubWVudCk7XG5cbm5ldyBCZWRyb2NrQWdlbnRTdGFjayhhcHAsIGNvbmZpZy5zdGFja05hbWUsIHtcbiAgZW52OiB7XG4gICAgYWNjb3VudDogY29uZmlnLmFjY291bnRJZCB8fCBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9BQ0NPVU5ULFxuICAgIHJlZ2lvbjogY29uZmlnLnJlZ2lvbixcbiAgfSxcbiAgZGVzY3JpcHRpb246IGBTdGFjayBmb3IgQmVkcm9jayBBZ2VudCB3aXRoIE5vdmEgUHJvIG1vZGVsIC0gJHtjb25maWcudGFncy5FbnZpcm9ubWVudH1gLFxuICB0YWdzOiBjb25maWcudGFncyxcbiAgZW52aXJvbm1lbnRDb25maWc6IGNvbmZpZyxcbn0pO1xuXG5hcHAuc3ludGgoKTtcbiJdfQ==